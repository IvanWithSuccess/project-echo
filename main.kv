# =========================================================================
# >> CUSTOM WIDGET DEFINITIONS
# =========================================================================

<NavButton>:
    orientation: 'vertical'
    size_hint: None, None
    size: dp(80), dp(72)
    padding: [0, dp(12), 0, dp(8)]
    spacing: dp(4)

    canvas.before:
        Color:
            rgba: 0, 0, 0, 0 # Transparent background
        Rectangle:
            pos: self.pos
            size: self.size

    # NOTE: Icon is removed as standard Kivy doesn't support it directly.

    Label:
        text: root.text
        size_hint_y: None
        height: self.texture_size[1]
        font_size: "10sp"
        halign: 'center'

# =========================================================================
# >> MAIN LAYOUT KV
# ==========================================================================

BoxLayout:
    orientation: 'horizontal'

    # Side Navigation Panel
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: None
        width: dp(80)
        padding: [dp(4), dp(16), dp(4), 0]
        spacing: dp(16)
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1 # Light gray background
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: "Echo"
            font_size: '20sp'
            bold: True
            color: 0.2, 0.2, 0.2, 1
            halign: "center"
            size_hint_y: None
            height: self.texture_size[1]

        BoxLayout:
            id: nav_list
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            spacing: dp(8)

        Widget: # Spacer
            size_hint_y: 1

    # Separator
    Widget:
        size_hint_x: None
        width: dp(1)
        canvas.before:
            Color:
                rgba: 0.8, 0.8, 0.8, 1 # Gray color for separator line
            Rectangle:
                pos: self.pos
                size: self.size

    ScreenManager:
        id: screen_manager
