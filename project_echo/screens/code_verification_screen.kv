<CodeVerificationScreen>:
    id: code_verification_screen
    name: 'code_verification'

    BoxLayout:
        orientation: 'vertical'
        size_hint: 0.4, None
        height: self.minimum_height
        pos_hint: {'center_x': 0.5, 'center_y': 0.6}
        spacing: '10dp'

        Button:
            text: '< Back'
            size_hint: None, None
            size: '100dp', '30dp'
            pos_hint: {'left': 1}
            # FIX: Changed 'login_screen' to 'login' to match the correct screen name.
            on_release: app.root.ids.screen_manager.current = 'login'
            background_color: 0, 0, 0, 0 # Transparent background
            color: 0.1, 0.3, 0.5, 1 # Blue text

        Label:
            text: "We've sent a code to your Telegram app. Please enter it below."
            size_hint_y: None
            height: '40dp'
            color: (0, 0, 0, 1)

        TextInput:
            id: code_field
            hint_text: 'Verification Code'
            multiline: False
            halign: 'center'
            size_hint_y: None
            height: '48dp'
            font_size: '16sp'

        Button:
            text: 'VERIFY'
            size_hint_y: None
            height: '48dp'
            on_release: root.verify_code()
            background_color: (0.1, 0.3, 0.5, 1)
            color: (1, 1, 1, 1)
            background_normal: ''

        Label:
            id: spinner_label
            text: ''
            size_hint_y: None
            height: '20dp'
            color: (0, 0, 0, 1)
