<LoginScreen>:
    name: "login_screen"

    MDFloatLayout:
        MDBoxLayout:
            orientation: 'vertical'
            size_hint_x: None
            width: "500dp"
            adaptive_height: True  # FIX: Make the layout height fit its content
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            spacing: "20dp"

            MDLabel:
                text: "Sign in to Telegram"
                halign: 'center'
                font_style: 'H4'
                adaptive_height: True

            MDLabel:
                text: "Choose your country and enter your phone number."
                halign: 'center'
                adaptive_height: True
                theme_text_color: "Secondary"

            MDTextField:
                id: country_field
                hint_text: "Country"
                readonly: True
                on_focus: if self.focus: root.open_country_dialog()

            MDTextField:
                id: phone_field
                hint_text: "Phone Number"
                helper_text: "Include your country code (e.g., +1 for USA)"
                helper_text_mode: "on_focus"

            MDRaisedButton:
                text: "NEXT"
                pos_hint: {'center_x': 0.5}
                on_release: root.on_next_button_press()

        MDSpinner:
            id: spinner
            size_hint: None, None
            size: dp(46), dp(46)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            active: False
